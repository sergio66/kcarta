From hannon@research.umbc.edu  Tue Feb 20 10:20:29 2001
Return-Path: <hannon@research.umbc.edu>
Received: from research.umbc.edu ([130.85.6.7])
	by hmotteler.dsl.patriot.net (8.10.2/8.10.2/SuSE Linux 8.10.0-0.3) with ESMTP id f1KFKR819281
	for <motteler@hmotteler.dsl.patriot.net>; Tue, 20 Feb 2001 10:20:28 -0500
X-Authentication-Warning: hmotteler.dsl.patriot.net: Host [130.85.6.7] claimed to be research.umbc.edu
Received: from mx1del.umbc.edu (mx1del.umbc.edu [130.85.6.47])
	by research.umbc.edu (8.9.0/8.9.3) with ESMTP id KAA1210468
	for <motteler@research.umbc.edu>; Tue, 20 Feb 2001 10:20:25 -0500 (EST)
Received: from mx1in.umbc.edu (mx1in.umbc.edu [130.85.253.41])
	by mx1del.umbc.edu (8.9.3/8.9.3) with ESMTP id KAA17170
	for <motteler@gl.umbc.edu>; Tue, 20 Feb 2001 10:20:20 -0500 (EST)
Received: from research.umbc.edu (hannon@umbc7.umbc.edu [130.85.6.7])
	by mx1in.umbc.edu (8.11.0/8.11.0) with ESMTP id f1KFKJE08189
	for <motteler@umbc.edu>; Tue, 20 Feb 2001 10:20:19 -0500 (EST)
Received: (from hannon@localhost)
	by research.umbc.edu (8.9.0/8.9.3) id KAA1253434
	for motteler@umbc.edu; Tue, 20 Feb 2001 10:20:19 -0500 (EST)
Date: Tue, 20 Feb 2001 10:20:19 -0500 (EST)
From: Scott Hannon <hannon@umbc.edu>
Message-Id: <200102201520.KAA1253434@research.umbc.edu>
To: motteler@umbc.edu
Subject: klayers partial pressure
Status: ROr


Howard,

OK, I checked KLAYERS, and we should be able to calculate the
gas partial pressures from the other klayers output in
the RTP file.  See
    /salsify/packages/KLAYERS/Src_newest/klayers.f
lines 370-372...
---
C            denav=1.2027E-12 (see integ.f)
             PARTP(I,L)=ALAY(L,I)*TLAY(L)/
     $          (DZLAY(L)*1.2027E-12*1.0E+6*1013.25)
---
ALAY is the layer gas amount (kilomole/cm^2)
TLAY is the layer average temperature (Kelvin)
DZLAY is the layer thickness (meters)
PARTP is the partial pressure (atmospheres)
"denav" is a few other constants all folded together
   with units (Kelvin*kilomole/cm^2) per (meter*ppmv*millibar)
The 1013.25 is millibars per atmosphere
The 1E+6 is the factor of one million in "ppmv"

Scott.
Scott Hannon                                 email : hannon@umbc.edu
Department of Physics                        FAX   : (410) 455-1072
University of Maryland Baltimore County      Phone : (410) 455-3001
1000 Hilltop Circle                          Office: Physics 430
Baltimore, MD 21250                  

From sergio@salsify.umbc.edu  Tue Feb 20 12:30:48 2001
Return-Path: <sergio@salsify.umbc.edu>
Received: from research.umbc.edu ([130.85.6.7])
	by hmotteler.dsl.patriot.net (8.10.2/8.10.2/SuSE Linux 8.10.0-0.3) with ESMTP id f1KHUl819413
	for <motteler@hmotteler.dsl.patriot.net>; Tue, 20 Feb 2001 12:30:48 -0500
X-Authentication-Warning: hmotteler.dsl.patriot.net: Host [130.85.6.7] claimed to be research.umbc.edu
Received: from mx3del.umbc.edu (mx3del.umbc.edu [130.85.6.34])
	by research.umbc.edu (8.9.0/8.9.3) with ESMTP id MAA1363544
	for <motteler@research.umbc.edu>; Tue, 20 Feb 2001 12:30:46 -0500 (EST)
Received: from mx2in.umbc.edu (mx2in.umbc.edu [130.85.253.42])
	by mx3del.umbc.edu (8.9.3/8.9.3) with ESMTP id MAA18740
	for <motteler@gl.umbc.edu>; Tue, 20 Feb 2001 12:30:40 -0500 (EST)
Received: from salsify.umbc.edu (sergio@salsify.umbc.edu [130.85.162.77])
	by mx2in.umbc.edu (8.11.0/8.11.0) with ESMTP id f1KHUdi18245
	for <motteler@umbc.edu>; Tue, 20 Feb 2001 12:30:39 -0500 (EST)
Received: from localhost (sergio@localhost)
	by salsify.umbc.edu (8.9.3/8.9.3) with SMTP id MAA33366
	for <motteler@umbc.edu>; Tue, 20 Feb 2001 12:30:28 -0500 (EST)
Date: Tue, 20 Feb 2001 12:30:28 -0500 (EST)
From: sergio <sergio@salsify.umbc.edu>
To: "Dr. Howard Motteler" <motteler@umbc.edu>
Message-ID: <Pine.SGI.3.96.1010220122514.33350A-100000@salsify.umbc.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Status: ROr


hi howard,

have you figured out the partial pressures yet? as i said, in run6.m, we
just use the gas law
        pV = nRT ==> n/V = p/RT   units mol/m^3
note here p == gas partial pressure!
multiply by gas cell length to get GENLN2 units q = n/V L = mol/m^2
then the eqn on the final line below is just putting all the units together 
consistently.

  MGC=8.314674269981136  ;  
  press=input('Enter total pressure (in atm) : ');
  partpress=input('Enter gas partial pressure (in atm) : ');
  temperature=input('Enter temperature (in K) : ');
  GasAmt=input('Enter path cell length (in cm) ');
  %change to kilomolcles cm-2 
  GasAmt=GasAmt*101325*partpress/1e9/MGC/temperature; %change to kmolec/cm2 


i do have another question though. something you said is bugging me.
yesterday you showed me the code where you seemed to interpolate in
partial pressure. i assume this is just for the water (when accounting for
the self broadening); but typically for water and all the other gases,
when changing the pressure layering,  you interpolate the database in
pressure and temperature, right?

-sergio

--------------------------------------------------------------------------
Sergio DeSouza-Machado
Dept of Physics                                           sergio@umbc.edu
University of Maryland Baltimore County              ph  : (410)-455-1944
1000 Hilltop Circle                                  fax : (410)-455-1072
Baltimore, MD 21250                http://asl.umbc.edu/~sergio/index.html


